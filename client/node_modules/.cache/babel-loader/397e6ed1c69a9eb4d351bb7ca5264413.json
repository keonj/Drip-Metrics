{"ast":null,"code":"var _jsxFileName = \"C:\\\\Western\\\\Ivey\\\\WEC\\\\Drip-Metrics\\\\Drip-Metrics\\\\client\\\\src\\\\components\\\\sensor-images.js\";\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nasync function getImgURL() {\n  const {\n    MongoClient\n  } = require(\"mongodb\");\n\n  const url = \"mongodb+srv://admin:drip2021@cluster0.lrjsm.mongodb.net/DripDatabase?retryWrites=true&w=majority\";\n  const client = new MongoClient(url);\n  const dbName = \"DripDatabase\";\n  await client.connect();\n  console.log(\"Connected correctly to server\");\n  const db = client.db(dbName); // Use collection historical\n\n  const col = db.collection(\"historical\");\n  const myDoc = await col.findOne();\n  console.log(myDoc);\n}\n\nexport default function SensorImages() {\n  // const imgUpload = \"http://mydrip.ca/wec2022/\" + getImgURL(); //data call to get image url\n  // async function fetchData() {\n  //     const img = params.img.toString();\n  //     const response = await fetch(`http://localhost:5000/record/${params.img.toString()}`);\n  //     if (!response.ok) {\n  //       const message = `An error has occured: ${response.statusText}`;\n  //       window.alert(message);\n  //       return;\n  //     }\n  // }\n  // This following section will display the form that takes the input from the user.\n  // Put HTML here\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Sensor Images something\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 6\n  }, this);\n}\n_c = SensorImages;\n\nvar _c;\n\n$RefreshReg$(_c, \"SensorImages\");","map":{"version":3,"sources":["C:/Western/Ivey/WEC/Drip-Metrics/Drip-Metrics/client/src/components/sensor-images.js"],"names":["React","useState","getImgURL","MongoClient","require","url","client","dbName","connect","console","log","db","col","collection","myDoc","findOne","SensorImages"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;AAEA,eAAeC,SAAf,GAA0B;AACtB,QAAM;AAAEC,IAAAA;AAAF,MAAkBC,OAAO,CAAC,SAAD,CAA/B;;AAEA,QAAMC,GAAG,GAAG,kGAAZ;AACA,QAAMC,MAAM,GAAG,IAAIH,WAAJ,CAAgBE,GAAhB,CAAf;AAEA,QAAME,MAAM,GAAG,cAAf;AAEA,QAAMD,MAAM,CAACE,OAAP,EAAN;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACA,QAAMC,EAAE,GAAGL,MAAM,CAACK,EAAP,CAAUJ,MAAV,CAAX,CAVsB,CAWtB;;AACA,QAAMK,GAAG,GAAGD,EAAE,CAACE,UAAH,CAAc,YAAd,CAAZ;AACA,QAAMC,KAAK,GAAG,MAAMF,GAAG,CAACG,OAAJ,EAApB;AACAN,EAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACH;;AAED,eAAe,SAASE,YAAT,GAAwB;AAGnC;AAKI;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEP;AACA;AACA,sBACI;AAAA,2BACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADC;AAAA;AAAA;AAAA;AAAA,UADJ;AAUA;KA/BuBA,Y","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nasync function getImgURL(){\r\n    const { MongoClient } = require(\"mongodb\");\r\n\r\n    const url = \"mongodb+srv://admin:drip2021@cluster0.lrjsm.mongodb.net/DripDatabase?retryWrites=true&w=majority\";\r\n    const client = new MongoClient(url);\r\n\r\n    const dbName = \"DripDatabase\"\r\n\r\n    await client.connect();\r\n    console.log(\"Connected correctly to server\")\r\n    const db = client.db(dbName);\r\n    // Use collection historical\r\n    const col = db.collection(\"historical\");\r\n    const myDoc = await col.findOne();\r\n    console.log(myDoc);\r\n}\r\n \r\nexport default function SensorImages() {\r\n \r\n\r\n    // const imgUpload = \"http://mydrip.ca/wec2022/\" + getImgURL(); //data call to get image url\r\n\r\n    \r\n\r\n  \r\n        // async function fetchData() {\r\n        //     const img = params.img.toString();\r\n        //     const response = await fetch(`http://localhost:5000/record/${params.img.toString()}`);\r\n        \r\n        //     if (!response.ok) {\r\n        //       const message = `An error has occured: ${response.statusText}`;\r\n        //       window.alert(message);\r\n        //       return;\r\n        //     }\r\n        // }\r\n\r\n // This following section will display the form that takes the input from the user.\r\n // Put HTML here\r\n return ( \r\n     <div>\r\n    <p>Sensor Images something</p>\r\n     {/* <img src=\"http://mydrip.ca/wec2022/uploads/2022.01.09_17:19:13_esp32-cam.jpg\"></img>\r\n\r\n     <img src={{imgUpload}}></img> */}\r\n\r\n     </div>\r\n\r\n );\r\n}"]},"metadata":{},"sourceType":"module"}